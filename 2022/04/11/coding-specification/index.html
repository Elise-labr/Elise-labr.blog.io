<!DOCTYPE html>
<html>
  <head>
     
    <meta charset="UTF-8">
    <title>前端编码规范 - Elsie&#39;s growth footprints</title>
    <link rel="shortcut icon" href="/static/img/icon.png">
    <link rel="icon" href="/static/img/icon.png" sizes="192x192"/>
    
<link rel="stylesheet" href="/static/kico.css">
<link rel="stylesheet" href="/static/hingle.css">

    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/FortAwesome/Font-Awesome/css/font-awesome.min.css">

    <meta name="viewport" content="width=device-width, maximum-scale=1, initial-scale=1"/>
    <meta property="og:site_name" content="Elsie&#39;s growth footprints">
    <meta property="og:title" content="前端编码规范"/>
    
    <style>body:before{ content: ''; background-image: url(https://api.paugram.com/wallpaper?source=gh) }</style>
    
<meta name="generator" content="Hexo 6.0.0"></head>

  <body>
    <header>
    <div class="head-title">
        <h4>Elsie&#39;s growth footprints</h4>
    </div>
    <div class="head-action">
        <div class="toggle-btn"></div>
        <div class="light-btn"></div>
        <div class="search-btn"></div>
    </div>
    <form class="head-search" method="post">
        <input type="text" name="s" placeholder="搜索什么？">
    </form>
    <nav class="head-menu">
        <a href="/">首页</a>
        <div class="has-child">
            <a>分类</a>
            <div class="sub-menu">
                <a class="category-link" href="/categories/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/">前端学习</a><a class="category-link" href="/categories/%E5%B7%A5%E5%85%B7%E9%85%8D%E7%BD%AE%E7%B1%BB/">工具配置类</a><a class="category-link" href="/categories/%E8%A7%84%E8%8C%83%E7%B1%BB/">规范类</a>
            </div>
        </div>
        
    </nav>
</header>

    <main>
    <div class="wrap min">
        <section class="post-title">
            <h2>前端编码规范</h2>
            <div class="post-meta">
                <time class="date">2022.04.11</time>
            
                <span class="category"><a class="category-link" href="/categories/%E8%A7%84%E8%8C%83%E7%B1%BB/">规范类</a></span>
            
            </div>
        </section>
        <article class="post-content">
        
            <h3 id="一、注释"><a href="#一、注释" class="headerlink" title="一、注释"></a>一、注释</h3><p><strong>1.注释符合<a target="_blank" rel="noopener" href="https://jsdoc.app/">JsDoc</a>规范，尤其是函数和类型的注释，举例如下：</strong><br>比如在VSCode中，当鼠标hover在一个没有注释的函数时，给出的函数信息非常少（如下图中红框区域）：<br><img src="https://img-blog.csdnimg.cn/eba4353a655844d09fd69117f44a6d08.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5LiA5qC55bCP5ZGG5q-b,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<p>这里的options参数是什么规范？完全看不出来。</p>
<p>如果按照JsDoc格式补充了注释，就可以看到非常丰富的信息了：</p>
<p><img src="https://img-blog.csdnimg.cn/ff0bf198f40d40e297b7417cb6763d3b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5LiA5qC55bCP5ZGG5q-b,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"><br>JsDoc规定了非常详细的注释语法，其实大部分语法都用不到，我们通常会在两个场景下的注释需要符合JsDoc规范。</p>
<p>函数注释。尤其是有代码复用目的的公用函数，必须有注释。<br>类型注释。尤其是接口请求数据和返回数据，必须有注释。<br>这是函数注释的例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 新建user</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> <span class="variable">name</span></span> - 用户姓名</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;string&#125;</span> <span class="variable">email</span></span> - 用户邮箱</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param <span class="type">&#123;number&#125;</span> <span class="variable">role</span></span> - 角色</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return <span class="type">&#123;Promise&lt;boolean&gt;&#125;</span> </span>是否创建成功</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">createUser</span>(<span class="params">name, email, role</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>这是类型注释的例子：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * 用户信息</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@typedef <span class="type">&#123;object&#125;</span> <span class="variable">UserInfo</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@property <span class="type">&#123;string&#125;</span> <span class="variable">name</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@property <span class="type">&#123;string&#125;</span> <span class="variable">email</span></span></span></span><br><span class="line"><span class="comment"> * <span class="doctag">@property <span class="type">&#123;number&#125;</span> <span class="variable">role</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@type <span class="type">&#123;UserInfo&#125;</span></span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">const</span> user = &#123; ... &#125;;</span><br></pre></td></tr></table></figure>



<p><strong>2. 使用多行注释:</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="comment">// make() returns a new element</span></span><br><span class="line"><span class="comment">// based on the passed in tag name</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// @param &#123;String&#125; tag</span></span><br><span class="line"><span class="comment">// @return &#123;Element&#125; element</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">make</span>(<span class="params">tag</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> element</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * make() returns a new element</span></span><br><span class="line"><span class="comment"> * based on the passed-in tag name</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">make</span>(<span class="params">tag</span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> element</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><strong>3. 使用//的单行注释</strong></p>
<p>将单行注释放在注释主题上方的换行符上。在注释前面加一个空行，除非它在块的第一行</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> active = <span class="literal">true</span>  <span class="comment">// is current tab</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="comment">// is current tab</span></span><br><span class="line"><span class="keyword">const</span> active = <span class="literal">true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getType</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;fetching type...&#x27;</span>)</span><br><span class="line">  <span class="comment">// set the default type to &#x27;no type&#x27;</span></span><br><span class="line">  <span class="keyword">const</span> type = <span class="built_in">this</span>.type || <span class="string">&#x27;no type&#x27;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> type</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getType</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">&#x27;fetching type...&#x27;</span>)</span><br><span class="line"></span><br><span class="line">  <span class="comment">// set the default type to &#x27;no type&#x27;</span></span><br><span class="line">  <span class="keyword">const</span> type = <span class="built_in">this</span>.type || <span class="string">&#x27;no type&#x27;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> type</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// also good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getType</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="comment">// set the default type to &#x27;no type&#x27;</span></span><br><span class="line">  <span class="keyword">const</span> type = <span class="built_in">this</span>.type || <span class="string">&#x27;no type&#x27;</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> type</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>4. FIXME:注释的问题，TODO:注释解决问题的办法</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculator</span> <span class="keyword">extends</span> <span class="title">Abacus</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">FIXME:</span> shouldn’t use a global here</span></span><br><span class="line">    total = <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Calculator</span> <span class="keyword">extends</span> <span class="title">Abacus</span> </span>&#123;</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123;</span><br><span class="line">    <span class="built_in">super</span>()</span><br><span class="line"></span><br><span class="line">    <span class="comment">// <span class="doctag">TODO:</span> total should be configurable by an options param</span></span><br><span class="line">    <span class="built_in">this</span>.total = <span class="number">0</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="二、命名"><a href="#二、命名" class="headerlink" title="二、命名"></a>二、命名</h3><p><img src="https://img-blog.csdnimg.cn/d637ca34ab874a748b8f50d7b3e6b46c.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBA5LiA5qC55bCP5ZGG5q-b,size_20,color_FFFFFF,t_70,g_se,x_16" alt="在这里插入图片描述"></p>
<h3 id="三、格式"><a href="#三、格式" class="headerlink" title="三、格式"></a>三、格式</h3><p><strong>1. // 后面必须接一个空格</strong><br>没什么好说的，更加规范，利于阅读</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="comment">// balabala</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="comment">//balabala</span></span><br></pre></td></tr></table></figure>



<p><strong>2. if、for、while等控制语句必须带{}，即使body只有一个语句：</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good </span></span><br><span class="line"><span class="keyword">if</span> (status) &#123; </span><br><span class="line">	doSomething(); </span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad </span></span><br><span class="line"><span class="keyword">if</span> (status) </span><br><span class="line">doSomething(); </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// very bad </span></span><br><span class="line"><span class="keyword">if</span> (status) doSomething();</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>也许这里会有人有疑问，如果我if的内容还有一行，多写一个{}不是多此一举吗？</p>
<p>上面的问题在于，如果后期想要在if里添加语句，由于我们禁止在一行中出现多条语句，所以就会演变成：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// before</span></span><br><span class="line"><span class="keyword">if</span> (status) doSomething();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// after</span></span><br><span class="line"><span class="keyword">if</span> (status) &#123;</span><br><span class="line">	doSomething();</span><br><span class="line">	saySomething();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在提交代码之后，git看来是全改了，虽然你只增加saySomething()方法，但这段代码code owner就变成了你；</p>
<p>如果出了bug，这个锅就得你来背，所以为了避免不必要的麻烦，禁止{}与代码块出现在同一行。</p>
<p><strong>3. 运算符两侧必须要有空格：</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span>(type === <span class="string">&#x27;3&#x27;</span>) &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span>(type===<span class="string">&#x27;3&#x27;</span>) &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>4. 箭头函数就算只有一个参数，也要有括号</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> fn = <span class="function">(<span class="params">arg</span>) =&gt;</span> &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> fn = <span class="function"><span class="params">arg</span> =&gt;</span> &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>5. 声明变量的时候，必须定义初始值，避免不必要的bug</strong></p>
<p><strong>6. 变量用的时候再声明，避免一开始就声明</strong><br>这样写可以使代码更紧凑，相关的代码都在一起，可读性更高</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">const</span> a = <span class="number">1</span>; <span class="comment">// 下面要用到a了，此时申明变量</span></span><br><span class="line">  <span class="keyword">if</span> (a) &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">const</span> a = <span class="number">1</span>; <span class="comment">// 函数一开头就申明了变量，到很后面才用到</span></span><br><span class="line">  ...</span><br><span class="line">  <span class="keyword">if</span> (a) &#123;</span><br><span class="line">    ...</span><br><span class="line">  &#125;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><strong>7. 一行代码避免超过100个字符</strong><br>代码过长会影响阅读，这里就不赘述了。</p>
<p><strong>8. 禁止一行出现多条语句或者声明多个变量</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> email = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"><span class="keyword">const</span> phone = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (condition) &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;&#x27;</span>, email = <span class="string">&#x27;&#x27;</span>, phone = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (condition) &#123; ... &#125; <span class="keyword">else</span> &#123; ... &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><strong>9. 禁止多余空行，禁止尾部空格</strong></p>
<p><strong>10. 自定义callback函数，第一个参数是error</strong><br>自定义回调函数的第一个参数是error,这是nodejs约定成俗的规定，有益于提高对代码的理解。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">err, arg1, arg2</span>) </span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(err)&#123;</span><br><span class="line">		... 	<span class="comment">// 优先处理error逻辑 </span></span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">	...			<span class="comment">// 再去处理其他逻辑</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callback</span>(<span class="params">arg1, arg2, err</span>) </span>&#123;	<span class="comment">// error不是第一个参数</span></span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>11. 如果方法的参数有callback，那么callback必须是最后一个参数</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">arg1, arg2, callback</span>) </span>&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fn</span>(<span class="params">callback, arg1, arg2</span>) </span>&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="四、语法特性"><a href="#四、语法特性" class="headerlink" title="四、语法特性"></a>四、语法特性</h3><p><strong>1. 尽量使用===，不用==</strong></p>
<p>存在隐式类型转换，js糟粕，就不多说了。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">if</span>(a === b)&#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">if</span>(a == b) &#123;</span><br><span class="line">	...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>



<p><strong>2. 使用const,let，少使用var</strong><br>var定义的全局变量存在不可控性，避免bug，不要使用var。</p>
<p>如果变量在其生命周期可能发生改变，尽量使用let指令：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">var</span> count = <span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  count += <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">let</span> count = <span class="number">1</span></span><br><span class="line"><span class="keyword">if</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">  count += <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果一个值在程序生命周期内不会改变，尽量使用const声明变量<br>这样约定的好处：</p>
<ul>
<li>向开发者或读者传递值不变的信息。</li>
<li>TypeScript中，通过立即初始化和防止后续重新分配来帮助强制执行该意图。</li>
</ul>
<p><strong>3. 优先使用箭头函数</strong><br>箭头函数的this是静态可控的，相比于普通函数的this更好控制和理解。<br><strong>4. 变量的初始值必须和类型匹配，不可改变变量的类型</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> count = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">const</span> message = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> count = <span class="literal">null</span>; <span class="comment">// number类型初始值是null</span></span><br><span class="line"><span class="keyword">const</span> message = <span class="literal">null</span>; <span class="comment">// string类型初始值是null</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> result = <span class="number">0</span>;</span><br><span class="line">...</span><br><span class="line">result = <span class="string">&#x27;&#x27;</span>; <span class="comment">// result本来是number类型，这里改成了string</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<p><strong>5. import顺序必须按照第三方依赖、本地依赖、非js依赖的顺序排列</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 先引入第三方依赖</span></span><br><span class="line"><span class="keyword">import</span> React <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> lodash <span class="keyword">from</span> <span class="string">&#x27;lodash&#x27;</span>;</span><br><span class="line"><span class="comment">// 然后引入本地依赖</span></span><br><span class="line"><span class="keyword">import</span> AComponent <span class="keyword">from</span> <span class="string">&#x27;./components/MyComponent&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> AnotherComponent <span class="keyword">from</span> <span class="string">&#x27;./components/AnotherComponent&#x27;</span>;</span><br><span class="line"><span class="comment">// 最后引入非js依赖</span></span><br><span class="line"><span class="keyword">import</span> styles <span class="keyword">from</span> <span class="string">&#x27;./styles.css&#x27;</span>;</span><br></pre></td></tr></table></figure>

<p><strong>6.  对象</strong><br>使用文字语法进行对象创建：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span>  item  =  <span class="keyword">new</span>  <span class="built_in">Object</span>（）</span><br><span class="line"></span><br><span class="line"><span class="comment">// good </span></span><br><span class="line"><span class="keyword">const</span>  item  = &#123;&#125;</span><br><span class="line">使用属性值速记：</span><br><span class="line"><span class="keyword">const</span> lukeSkywalker = <span class="string">&#x27;Luke Skywalker&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">lukeSkywalker</span>: lukeSkywalker,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  lukeSkywalker,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>在对象声明的开头分组您的速记属性：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> anakinSkywalker = <span class="string">&#x27;Anakin Skywalker&#x27;</span></span><br><span class="line"><span class="keyword">const</span> lukeSkywalker = <span class="string">&#x27;Luke Skywalker&#x27;</span></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  <span class="attr">episodeOne</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">twoJediWalkIntoACantina</span>: <span class="number">2</span>,</span><br><span class="line">  lukeSkywalker,</span><br><span class="line">  <span class="attr">episodeThree</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="attr">mayTheFourth</span>: <span class="number">4</span>,</span><br><span class="line">  anakinSkywalker,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> obj = &#123;</span><br><span class="line">  lukeSkywalker,</span><br><span class="line">  anakinSkywalker,</span><br><span class="line">  <span class="attr">episodeOne</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="attr">twoJediWalkIntoACantina</span>: <span class="number">2</span>,</span><br><span class="line">  <span class="attr">episodeThree</span>: <span class="number">3</span>,</span><br><span class="line">  <span class="attr">mayTheFourth</span>: <span class="number">4</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>仅引用属于无效标识符的属性：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad </span></span><br><span class="line"><span class="keyword">const</span>  bad  = &#123;</span><br><span class="line">   <span class="string">&#x27; foo &#x27;</span>： <span class="number">3</span>，</span><br><span class="line">   <span class="string">&#x27; bar &#x27;</span>： <span class="number">4</span>，</span><br><span class="line">   <span class="string">&#x27; data-blah &#x27;</span>： <span class="number">5</span>，</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good </span></span><br><span class="line"><span class="keyword">const</span>  good  = &#123;</span><br><span class="line">  foo ： <span class="number">3</span>，</span><br><span class="line">  bar ： <span class="number">4</span>，</span><br><span class="line">  <span class="string">&#x27; data-blah &#x27;</span>： <span class="number">5</span>，</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>7. 数组</strong></p>
<p>使用文字语法创建数组：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> items = <span class="keyword">new</span> <span class="built_in">Array</span>()</span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> items = []</span><br></pre></td></tr></table></figure>
<p>使用push辅助：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> someStack = []</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">someStack[someStack.length] = <span class="string">&#x27;abracadabra&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line">someStack.push(<span class="string">&#x27;abracadabra&#x27;</span>)</span><br></pre></td></tr></table></figure>
<p>使用数组传播…复制数组：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> len = items.length</span><br><span class="line"><span class="keyword">const</span> itemsCopy = []</span><br><span class="line"><span class="keyword">let</span> i</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> (i = <span class="number">0</span> i &lt; len i += <span class="number">1</span>) &#123;</span><br><span class="line">  itemsCopy[i] = items[i]</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> itemsCopy = [...items]</span><br></pre></td></tr></table></figure>

<p><strong>8. 字符串</strong><br>对字符串使用单引号：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&quot;Capt. Janeway&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> name = <span class="string">&#x27;Capt. Janeway&#x27;</span></span><br></pre></td></tr></table></figure>
<p>不应使用字符串连接跨多行写入导致行超过100个字符的字符串<br>当字符串有变量值时，建议使用`符号，且${ value }变量离括号不留空格：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">&#x27;How are you, &#x27;</span> + name + <span class="string">&#x27;?&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [<span class="string">&#x27;How are you, &#x27;</span>, name, <span class="string">&#x27;?&#x27;</span>].join()</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`How are you, <span class="subst">$&#123; name &#125;</span>?`</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">name</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`How are you, <span class="subst">$&#123;name&#125;</span>?`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>不要在字符串中不必要地转义字符：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="string">&#x27;\&#x27;this\&#x27; \i\s \&quot;quoted\&quot;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="string">&#x27;\&#x27;this\&#x27; is &quot;quoted&quot;&#x27;</span></span><br><span class="line"><span class="keyword">const</span> foo = <span class="string">`my name is &#x27;<span class="subst">$&#123;name&#125;</span>&#x27;`</span></span><br></pre></td></tr></table></figure>
<p><strong>9. 解构</strong><br>访问和使用对象的多个属性时使用对象解构：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> firstName = user.firstName</span><br><span class="line"><span class="keyword">const</span> lastName = user.lastName</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> &#123; firstName, lastName &#125; = user</span><br><span class="line">使用数组解构：</span><br><span class="line"><span class="keyword">const</span> arr = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> first = arr[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">const</span> second = arr[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> [first, second] = arr</span><br></pre></td></tr></table></figure>



<h3 id="五、样式"><a href="#五、样式" class="headerlink" title="五、样式"></a>五、样式</h3><p><strong>1.样式属性必须按照定位、盒模型、文字、其他的顺序排列</strong><br>这个规则同样是为了提升代码整洁程度，有利于阅读和理解代码。</p>
<p>根据功能和常用程度，我们把CSS样式大致分成了4类</p>
<ul>
<li><p>定位。比如position、left、top、z-index等。定位属性非常常见，而且对元素的样式影响非常重要，所以放在第一位。</p>
</li>
<li><p>盒模型。比如display、box-sizing、width、height、padding、margin等。盒模型属性也非常常见，而且对元素的样式影响也非常大，这里排在第二位。</p>
</li>
<li><p>文字样式。比如font-size、line-height、color等。文字样式也是比较常见的样式，排在第三位。</p>
</li>
<li><p>其他样式。比如background、border、shadow等。这些样式不如前面的样式使用得频繁，排在最后。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* good */</span></span><br><span class="line">.message &#123;</span><br><span class="line">  <span class="attr">position</span>: absolute;</span><br><span class="line">  left: 200px;</span><br><span class="line">  z-index: <span class="number">5</span>;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">  width: 300px;</span><br><span class="line">  height: 200px;</span><br><span class="line">  padding: 10px 14px;</span><br><span class="line">  margin: 20px;</span><br><span class="line">  font-size: 22px;</span><br><span class="line">  color: #FCFCFC;</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">  border: 1px solid #ECECEC;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/* bad */</span></span><br><span class="line">.message &#123;</span><br><span class="line">  <span class="attr">color</span>: #FCFCFC;</span><br><span class="line">  border-radius: 4px;</span><br><span class="line">  margin: 20px;</span><br><span class="line">  position: absolute;</span><br><span class="line">  width: 300px;</span><br><span class="line">  height: 200px;</span><br><span class="line">  border: 1px solid #ECECEC;</span><br><span class="line">  left: 200px;</span><br><span class="line">  box-sizing: border-box;</span><br><span class="line">  padding: 10px 14px;</span><br><span class="line">  font-size: 22px;</span><br><span class="line">  z-index: <span class="number">5</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
</ul>
<h3 id="六、-TypeScript"><a href="#六、-TypeScript" class="headerlink" title="六、 TypeScript"></a>六、 TypeScript</h3><p><strong>1. 什么时候应该定义类型？</strong><br>ts的类型检查发生在编译阶段，它假定变量的类型是在声明时被确定的，而且在运行时不会改变。</p>
<p>如果在声明变量的时候有初始值，ts就可以从初值直接推断出对应的类型，因此通常这种情况下，是不需要写类型的。</p>
<p><strong>2. 类型和冒号中间需要有一个空格</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> a: Component = <span class="keyword">new</span> Component(); <span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> a:Component = <span class="keyword">new</span> Component(); <span class="comment">// bad</span></span><br><span class="line"></span><br><span class="line">interface Man &#123;</span><br><span class="line">  <span class="attr">name</span>: string; <span class="comment">// good</span></span><br><span class="line">  age:number; <span class="comment">// bad</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>



<p><strong>3. 不要使用Object、Number、String、Boolean、Symbol作为类型</strong></p>
<p>这是ts官方推荐的规范，因为[ Object、Number、String、Boolean、Symbol ] 他们实际上是原始类型的包装类。</p>
<p>而大部分时候你想表达的只是原始类，用包装类来表示原始的类型实际上是不够准确的。</p>
<p>所以应该使用{}、number、string、boolean、symbol</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">const</span> userId: <span class="built_in">String</span> = <span class="string">&#x27;0001&#x27;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line"><span class="keyword">const</span> userId: string = <span class="string">&#x27;0001&#x27;</span>;</span><br></pre></td></tr></table></figure>



<p><strong>4. 少用enum类型，如果使用enum，则必须显式指定value</strong></p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// good</span></span><br><span class="line">enum APM_PROJECTS &#123;</span><br><span class="line">  FOO = <span class="number">1</span>,</span><br><span class="line">  BAR = <span class="number">2</span>,</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// bad</span></span><br><span class="line">enum APM_PROJECTS &#123;</span><br><span class="line">  FOO,</span><br><span class="line">  BAR,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果省略value，enum的value就跟顺序产生强相关.</p>
<p>如果不注意可能产生bug，比如删除其中某一项，其后面的每一项值都会发生变化，随之产生bug。</p>
<p><strong>5. 尽量unknown代替any</strong><br>any和unknown都是ts的超级类型（也叫顶级类型），TypeScript 允许我们对 any 类型的值执行任何操作，而无需事先执行任何形式的检查：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> value: any;</span><br><span class="line"></span><br><span class="line">value.foo.bar; 	<span class="comment">// OK</span></span><br><span class="line">value.trim(); 	<span class="comment">// OK</span></span><br><span class="line">value(); 		<span class="comment">// OK</span></span><br><span class="line"><span class="keyword">new</span> value(); 	<span class="comment">// OK</span></span><br><span class="line">value[<span class="number">0</span>][<span class="number">1</span>]; 	<span class="comment">// OK</span></span><br></pre></td></tr></table></figure>
<p>使用 any 类型，可以很容易地编写类型正确但在运行时有问题的代码，就无法享受ts带来的强大的类型保护机制.</p>
<p>和any一样，所有类型都可以赋值给unknown类型，但如果重复上面的操作：</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> value: unknown;</span><br><span class="line"></span><br><span class="line">value.foo.bar; 	<span class="comment">// Error</span></span><br><span class="line">value.trim(); 	<span class="comment">// Error</span></span><br><span class="line">value(); 		<span class="comment">// Error</span></span><br><span class="line"><span class="keyword">new</span> value(); 	<span class="comment">// Error</span></span><br><span class="line">value[<span class="number">0</span>][<span class="number">1</span>]; 	<span class="comment">// Error</span></span><br></pre></td></tr></table></figure>
<p>unknown比any要安全的多，在我们对变量执行某些操作的时候，unknown会执行额外的类型检查。</p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/104296850">TypeScript 中 的any 和 unknown</a></p>
<h3 id="七、-接口"><a href="#七、-接口" class="headerlink" title="七、 接口"></a>七、 接口</h3><p>使用驼峰大小写命名接口</p>
<p>尽量避免接口命名前缀是’i’</p>
<p>使用类而不是服务和声明（组件，指令和管道）的接口</p>
<p>使用数据模型的接口</p>
<p>这样约定的好处</p>
<p>① <a target="_blank" rel="noopener" href="https://github.com/Microsoft/TypeScript/wiki/Coding-guidelines">TypeScript指南</a> 不鼓励使用I前缀。</p>
<p>② 单独一个类的代码少于类加接口</p>
<p>③ 类可以充当接口(使用implements而不是extends)</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// bad</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> &#123; Injectable &#125; <span class="keyword">from</span> <span class="string">&#x27;@project/core&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; IHero &#125; <span class="keyword">from</span> <span class="string">&#x27;./hero.model.avoid&#x27;</span></span><br><span class="line"> </span><br><span class="line">@Injectable()</span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">HeroCollectorService</span> </span>&#123;</span><br><span class="line">  <span class="attr">hero</span>: IHero</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123; &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// good</span></span><br><span class="line"><span class="keyword">import</span> &#123; Injectable &#125; <span class="keyword">from</span> <span class="string">&#x27;@project/core&#x27;</span></span><br><span class="line"><span class="keyword">import</span> &#123; Hero &#125; <span class="keyword">from</span> <span class="string">&#x27;./hero.model&#x27;</span></span><br><span class="line"></span><br><span class="line">@Injectable()</span><br><span class="line"><span class="keyword">export</span> <span class="class"><span class="keyword">class</span> <span class="title">HeroCollectorService</span> </span>&#123;</span><br><span class="line">  <span class="attr">hero</span>: Hero</span><br><span class="line">  <span class="function"><span class="title">constructor</span>(<span class="params"></span>)</span> &#123; &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


        </article>
        <section class="post-near">
            <ul>
                
                    <li>上一篇: <a href="/2022/04/11/nvm-%E4%BD%BF%E7%94%A8%E4%B8%8E%E5%AE%89%E8%A3%85/">nvm 使用与安装</a></li>
                
                
                    <li>下一篇: <a href="/2022/04/11/git-store/">前端必学的20个github仓库</a></li>
                
            </ul>
        </section>
        
    
        <section class="post-author">
        
            <figure class="author-avatar">
                <img src="https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fc-ssl.duitang.com%2Fuploads%2Fblog%2F202105%2F05%2F20210505085929_10b4b.thumb.1000_0.jpg&refer=http%3A%2F%2Fc-ssl.duitang.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1644049706&t=869beff37204aab2d9357d3885fd4d70" alt="Elsie" />
            </figure>
        
            <div class="author-info">
                <h4>Elsie</h4>
                <p>一个努力脱离前端新手村的小菜鸡～</p>
            </div>
        </section>
    
    </div>
</main>

    <footer>
    <div class="buttons">
        <a class="to-top" href="#"></a>
    </div>
    <div class="wrap min">
        <section class="widget">
            <div class="row">
                <div class="col-m-4">
                    <h3 class="title-recent">最新文章：</h3>
                    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2022/04/11/iTerm2%E5%AE%89%E8%A3%85%E5%92%8Coh-my-zsh%E7%9A%84%E5%AE%89%E8%A3%85/">iTerm2安装和oh-my-zsh的安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/11/nvm-%E4%BD%BF%E7%94%A8%E4%B8%8E%E5%AE%89%E8%A3%85/">nvm 使用与安装</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/11/coding-specification/">前端编码规范</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/04/11/git-store/">前端必学的20个github仓库</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/01/06/hello-world/">如何使用hexo</a></li></ul>
                </div>
                <div class="col-m-4">
                    <h3 class="title-date">时光机：</h3>
                    <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a></li></ul>
                </div>
                <div class="col-m-4">
                    <h3 class="title-tags">标签云：</h3>
                    <a href="/tags/%E5%89%8D%E7%AB%AF%E5%AD%A6%E4%B9%A0/" style="font-size: 10px;">前端学习</a>
                </div>
            </div>
        </section>
        <section class="sub-footer">
            <p>© 2022 <a href="/">Elsie&#39;s growth footprints</a>. All Rights Reserved. Theme By <a href="https://github.com/Dreamer-Paul/Hingle" target="_blank" rel="nofollow">Hingle</a>.</p>
        </section>
    </div>
</footer>


<script src="/static/kico.js"></script>
<script src="/static/hingle.js"></script>


<script>var hingle = new Paul_Hingle({"copyright":true,"night":true});</script>

  </body>
</html>
